{"node_id": "77ef1a8a", "title": "Serialization", "path": "graph-api > Graph API overview > State > Working with Messages in Graph State > Serialization", "content": "In addition to keeping track of message IDs, the [`add_messages`](https://reference.langchain.com/python/langgraph/graphs/#langgraph.graph.message.add_messages) function will also try to deserialize messages into LangChain `Message` objects whenever a state update is received on the `messages` channel.\n\nSee more information on LangChain serialization/deserialization [here](https://python.langchain.com/docs/how_to/serialization/). This allows sending graph inputs / state updates in the following format:\n\n```python  theme={null}\n# this is supported\n{\"messages\": [HumanMessage(content=\"message\")]}\n\n# and this is also supported\n{\"messages\": [{\"type\": \"human\", \"content\": \"message\"}]}\n```\n\nSince the state updates are always deserialized into LangChain `Messages` when using [`add_messages`](https://reference.langchain.com/python/langgraph/graphs/#langgraph.graph.message.add_messages), you should use dot notation to access message attributes, like `state[\"messages\"][-1].content`.\n\nBelow is an example of a graph that uses [`add_messages`](https://reference.langchain.com/python/langgraph/graphs/#langgraph.graph.message.add_messages) as its reducer function.\n\n```python  theme={null}\nfrom langchain.messages import AnyMessage\nfrom langgraph.graph.message import add_messages\nfrom typing import Annotated\nfrom typing_extensions import TypedDict\n\nclass GraphState(TypedDict):\n    messages: Annotated[list[AnyMessage], add_messages]\n```", "summary": "Explains how the add_messages function deserializes message data into LangChain Message objects, supporting both object and dictionary formats for state updates.", "keywords": ["add_messages", "deserialization", "LangChain Message", "state updates", "reducer function", "GraphState", "HumanMessage", "serialization", "message channel", "dot notation"]}