{"node_id": "2151f242", "title": "High-level API", "path": "pregel > LangGraph runtime > High-level API", "content": "LangGraph provides two high-level APIs for creating a Pregel application: the [StateGraph (Graph API)](/oss/python/langgraph/graph-api) and the [Functional API](/oss/python/langgraph/functional-api).\n\n<Tabs>\n  <Tab title=\"StateGraph (Graph API)\">\n    The [StateGraph (Graph API)](https://reference.langchain.com/python/langgraph/graphs/#langgraph.graph.state.StateGraph) is a higher-level abstraction that simplifies the creation of Pregel applications. It allows you to define a graph of nodes and edges. When you compile the graph, the StateGraph API automatically creates the Pregel application for you.\n\n    ```python  theme={null}\n    from typing import TypedDict\n\n    from langgraph.constants import START\n    from langgraph.graph import StateGraph\n\n    class Essay(TypedDict):\n        topic: str\n        content: str | None\n        score: float | None\n\n    def write_essay(essay: Essay):\n        return {\n            \"content\": f\"Essay about {essay['topic']}\",\n        }\n\n    def score_essay(essay: Essay):\n        return {\n            \"score\": 10\n        }\n\n    builder = StateGraph(Essay)\n    builder.add_node(write_essay)\n    builder.add_node(score_essay)\n    builder.add_edge(START, \"write_essay\")\n    builder.add_edge(\"write_essay\", \"score_essay\")\n\n    # Compile the graph.\n    # This will return a Pregel instance.\n    graph = builder.compile()\n    ```\n\n    The compiled Pregel instance will be associated with a list of nodes and channels. You can inspect the nodes and channels by printing them.\n\n    ```python  theme={null}\n    print(graph.nodes)\n    ```\n\n    You will see something like this:\n\n    ```pycon  theme={null}\n    {'__start__': <langgraph.pregel.read.PregelNode at 0x7d05e3ba1810>,\n     'write_essay': <langgraph.pregel.read.PregelNode at 0x7d05e3ba14d0>,\n     'score_essay': <langgraph.pregel.read.PregelNode at 0x7d05e3ba1710>}\n    ```\n\n    ```python  theme={null}\n    print(graph.channels)\n    ```\n\n    You should see something like this\n\n    ```pycon  theme={null}\n    {'topic': <langgraph.channels.last_value.LastValue at 0x7d05e3294d80>,\n     'content': <langgraph.channels.last_value.LastValue at 0x7d05e3295040>,\n     'score': <langgraph.channels.last_value.LastValue at 0x7d05e3295980>,\n     '__start__': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e3297e00>,\n     'write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e32960c0>,\n     'score_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d8ab80>,\n     'branch:__start__:__self__:write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e32941c0>,\n     'branch:__start__:__self__:score_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d88800>,\n     'branch:write_essay:__self__:write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e3295ec0>,\n     'branch:write_essay:__self__:score_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d8ac00>,\n     'branch:score_essay:__self__:write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d89700>,\n     'branch:score_essay:__self__:score_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d8b400>,\n     'start:write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d8b280>}\n    ```\n  </Tab>\n\n  <Tab title=\"Functional API\">\n    In the [Functional API](/oss/python/langgraph/functional-api), you can use an [`@entrypoint`](https://reference.langchain.com/python/langgraph/func/#langgraph.func.entrypoint) to create a Pregel application. The `entrypoint` decorator allows you to define a function that takes input and returns output.\n\n    ```python  theme={null}\n    from typing import TypedDict\n\n    from langgraph.checkpoint.memory import InMemorySaver\n    from langgraph.func import entrypoint\n\n    class Essay(TypedDict):\n        topic: str\n        content: str | None\n        score: float | None\n\n\n    checkpointer = InMemorySaver()\n\n    @entrypoint(checkpointer=checkpointer)\n    def write_essay(essay: Essay):\n        return {\n            \"content\": f\"Essay about {essay['topic']}\",\n        }\n\n    print(\"Nodes: \")\n    print(write_essay.nodes)\n    print(\"Channels: \")\n    print(write_essay.channels)\n    ```\n\n    ```pycon  theme={null}\n    Nodes:\n    {'write_essay': <langgraph.pregel.read.PregelNode object at 0x7d05e2f9aad0>}\n    Channels:\n    {'__start__': <langgraph.channels.ephemeral_value.EphemeralValue object at 0x7d05e2c906c0>, '__end__': <langgraph.channels.last_value.LastValue object at 0x7d05e2c90c40>, '__previous__': <langgraph.channels.last_value.LastValue object at 0x7d05e1007280>}\n    ```\n  </Tab>\n</Tabs>\n\n***\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/oss/langgraph/pregel.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://docs.langchain.com/llms.txt", "summary": "Introduces two high-level APIs for creating Pregel applications in LangGraph: StateGraph (Graph API) and Functional API.", "keywords": ["StateGraph", "Functional API", "Pregel", "entrypoint", "nodes", "channels", "compile", "TypedDict", "LangGraph", "InMemorySaver"]}