{"node_id": "bd4446c6", "title": "MessagesState", "path": "use-graph-api > Use the graph API > Define and update state > Process state updates with reducers > MessagesState", "content": "In practice, there are additional considerations for updating lists of messages:\n\n* We may wish to update an existing message in the state.\n* We may want to accept short-hands for [message formats](/oss/python/langgraph/graph-api#using-messages-in-your-graph), such as [OpenAI format](https://python.langchain.com/docs/concepts/messages/#openai-format).\n\nLangGraph includes a built-in reducer [`add_messages`](https://reference.langchain.com/python/langgraph/graphs/#langgraph.graph.message.add_messages) that handles these considerations:\n\n```python  theme={null}\nfrom langgraph.graph.message import add_messages\n\nclass State(TypedDict):\n    messages: Annotated[list[AnyMessage], add_messages]  # [!code highlight]\n    extra_field: int\n\ndef node(state: State):\n    new_message = AIMessage(\"Hello!\")\n    return {\"messages\": [new_message], \"extra_field\": 10}\n\ngraph = StateGraph(State).add_node(node).set_entry_point(\"node\").compile()\n```\n\n```python  theme={null}\ninput_message = {\"role\": \"user\", \"content\": \"Hi\"}  # [!code highlight]\n\nresult = graph.invoke({\"messages\": [input_message]})\n\nfor message in result[\"messages\"]:\n    message.pretty_print()\n```\n\n```\n================================ Human Message ================================\n\nHi\n================================== Ai Message ==================================\n\nHello!\n```\n\nThis is a versatile representation of state for applications involving [chat models](https://python.langchain.com/docs/concepts/chat_models/). LangGraph includes a pre-built `MessagesState` for convenience, so that we can have:\n\n```python  theme={null}\nfrom langgraph.graph import MessagesState\n\nclass State(MessagesState):\n    extra_field: int\n```", "summary": "MessagesState is a built-in state representation for chat applications, handling message list updates and shorthand formats with the add_messages reducer.", "keywords": ["MessagesState", "add_messages", "reducer", "TypedDict", "Annotated", "StateGraph", "AnyMessage", "AIMessage", "chat models", "OpenAI format"]}