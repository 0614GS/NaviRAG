{"node_id": "a1606727", "title": "Do not reorder `interrupt` calls within a node", "path": "interrupts > Interrupts > Rules of interrupts > Do not reorder `interrupt` calls within a node", "content": "It's common to use multiple interrupts in a single node, however this can lead to unexpected behavior if not handled carefully.\n\nWhen a node contains multiple interrupt calls, LangGraph keeps a list of resume values specific to the task executing the node. Whenever execution resumes, it starts at the beginning of the node. For each interrupt encountered, LangGraph checks if a matching value exists in the task's resume list. Matching is **strictly index-based**, so the order of interrupt calls within the node is important.\n\n* ‚úÖ Keep [`interrupt`](https://reference.langchain.com/python/langgraph/types/#langgraph.types.interrupt) calls consistent across node executions\n\n```python  theme={null}\ndef node_a(state: State):\n    # ‚úÖ Good: interrupt calls happen in the same order every time\n    name = interrupt(\"What's your name?\")\n    age = interrupt(\"What's your age?\")\n    city = interrupt(\"What's your city?\")\n\n    return {\n        \"name\": name,\n        \"age\": age,\n        \"city\": city\n    }\n```\n\n* üî¥ Do not conditionally skip [`interrupt`](https://reference.langchain.com/python/langgraph/types/#langgraph.types.interrupt) calls within a node\n* üî¥ Do not loop [`interrupt`](https://reference.langchain.com/python/langgraph/types/#langgraph.types.interrupt) calls using logic that isn't deterministic across executions\n\n<CodeGroup>\n  ```python Skipping interrupts theme={null}\n  def node_a(state: State):\n      # ‚ùå Bad: conditionally skipping interrupts changes the order\n      name = interrupt(\"What's your name?\")\n\n      # On first run, this might skip the interrupt\n      # On resume, it might not skip it - causing index mismatch\n      if state.get(\"needs_age\"):\n          age = interrupt(\"What's your age?\")\n\n      city = interrupt(\"What's your city?\")\n\n      return {\"name\": name, \"city\": city}\n  ```\n\n  ```python Looping interrupts theme={null}\n  def node_a(state: State):\n      # ‚ùå Bad: looping based on non-deterministic data\n      # The number of interrupts changes between executions\n      results = []\n      for item in state.get(\"dynamic_list\", []):  # List might change between runs\n          result = interrupt(f\"Approve {item}?\")\n          results.append(result)\n\n      return {\"results\": results}\n  ```\n</CodeGroup>", "summary": "Explains that interrupt calls within a LangGraph node must maintain a consistent, deterministic order across executions due to strict index-based matching of resume values.", "keywords": ["interrupt", "LangGraph", "node", "resume values", "index-based matching", "deterministic", "execution", "task", "resume list", "strict order"]}