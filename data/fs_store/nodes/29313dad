{"node_id": "29313dad", "title": "Build a custom SQL agent", "path": "sql-agent > Build a custom SQL agent", "content": "In this tutorial we will build a custom agent that can answer questions about a SQL database using LangGraph.\n\nLangChain offers built-in [agent](/oss/python/langchain/agents) implementations, implemented using [LangGraph](/oss/python/langgraph/overview) primitives. If deeper customization is required, agents can be implemented directly in LangGraph. This guide demonstrates an example implementation of a SQL agent. You can find a tutorial building a SQL agent using higher-level LangChain abstractions [here](/oss/python/langchain/sql-agent).\n\n<Warning>\n  Building Q\\&A systems of SQL databases requires executing model-generated SQL queries. There are inherent risks in doing this. Make sure that your database connection permissions are always scoped as narrowly as possible for your agent's needs. This will mitigate, though not eliminate, the risks of building a model-driven system.\n</Warning>\n\nThe [prebuilt agent](/oss/python/langchain/sql-agent) lets us get started quickly, but we relied on the system prompt to constrain its behaviorâ€” for example, we instructed the agent to always start with the \"list tables\" tool, and to always run a query-checker tool before executing the query.\n\nWe can enforce a higher degree of control in LangGraph by customizing the agent. Here, we implement a simple ReAct-agent setup, with dedicated nodes for specific tool-calls. We will use the same \\[state] as the pre-built agent.", "summary": "A tutorial on building a custom SQL agent with LangGraph for database querying, covering setup, tool integration, workflow implementation, and human-in-the-loop review.", "keywords": ["LangGraph", "SQL agent", "SQLDatabaseToolkit", "StateGraph", "ToolNode", "human-in-the-loop", "Chinook database", "conditional edge", "MessagesState", "Graph API"]}