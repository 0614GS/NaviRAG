{"node_id": "16ac3ec6", "title": "Add metadata to traces", "path": "observability > LangSmith Observability > Add metadata to traces", "content": "You can annotate your traces with custom metadata and tags:\n\n```python  theme={null}\nresponse = agent.invoke(\n    {\"messages\": [{\"role\": \"user\", \"content\": \"Send a welcome email\"}]},\n    config={\n        \"tags\": [\"production\", \"email-assistant\", \"v1.0\"],\n        \"metadata\": {\n            \"user_id\": \"user_123\",\n            \"session_id\": \"session_456\",\n            \"environment\": \"production\"\n        }\n    }\n)\n```\n\n`tracing_context` also accepts tags and metadata for fine-grained control:\n\n```python  theme={null}\nwith ls.tracing_context(\n    project_name=\"email-agent-test\",\n    enabled=True,\n    tags=[\"production\", \"email-assistant\", \"v1.0\"],\n    metadata={\"user_id\": \"user_123\", \"session_id\": \"session_456\", \"environment\": \"production\"}):\n    response = agent.invoke(\n        {\"messages\": [{\"role\": \"user\", \"content\": \"Send a welcome email\"}]}\n    )\n```\n\nThis custom metadata and tags will be attached to the trace in LangSmith.\n\n<Tip>\n  To learn more about how to use traces to debug, evaluate, and monitor your agents, see the [LangSmith documentation](/langsmith/home).\n</Tip>", "summary": "Explains how to add custom metadata and tags to traces in LangSmith using agent.invoke config or ls.tracing_context for observability.", "keywords": ["metadata", "tags", "tracing_context", "agent.invoke", "LangSmith", "traces", "observability", "session_id", "user_id", "environment"]}