{"node_id": "bdd1a704", "title": "Semantic Search", "path": "persistence > Persistence > Memory Store > Semantic Search", "content": "Beyond simple retrieval, the store also supports semantic search, allowing you to find memories based on meaning rather than exact matches. To enable this, configure the store with an embedding model:\n\n```python  theme={null}\nfrom langchain.embeddings import init_embeddings\n\nstore = InMemoryStore(\n    index={\n        \"embed\": init_embeddings(\"openai:text-embedding-3-small\"),  # Embedding provider\n        \"dims\": 1536,                              # Embedding dimensions\n        \"fields\": [\"food_preference\", \"$\"]              # Fields to embed\n    }\n)\n```\n\nNow when searching, you can use natural language queries to find relevant memories:\n\n```python  theme={null}\n# Find memories about food preferences\n# (This can be done after putting memories into the store)\nmemories = store.search(\n    namespace_for_memory,\n    query=\"What does the user like to eat?\",\n    limit=3  # Return top 3 matches\n)\n```\n\nYou can control which parts of your memories get embedded by configuring the `fields` parameter or by specifying the `index` parameter when storing memories:\n\n```python  theme={null}\n# Store with specific fields to embed\nstore.put(\n    namespace_for_memory,\n    str(uuid.uuid4()),\n    {\n        \"food_preference\": \"I love Italian cuisine\",\n        \"context\": \"Discussing dinner plans\"\n    },\n    index=[\"food_preference\"]  # Only embed \"food_preferences\" field\n)\n\n# Store without embedding (still retrievable, but not searchable)\nstore.put(\n    namespace_for_memory,\n    str(uuid.uuid4()),\n    {\"system_info\": \"Last updated: 2024-01-01\"},\n    index=False\n)\n```", "summary": "Enables semantic search in memory store using embedding models for natural language queries, with configurable fields for embedding.", "keywords": ["Semantic Search", "InMemoryStore", "embedding model", "init_embeddings", "fields", "index", "search", "embed", "dims", "namespace_for_memory"]}