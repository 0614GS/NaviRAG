{"node_id": "1c564bed", "title": "Bypass reducers with `Overwrite`", "path": "use-graph-api > Use the graph API > Define and update state > Bypass reducers with `Overwrite`", "content": "In some cases, you may want to bypass a reducer and directly overwrite a state value. LangGraph provides the [`Overwrite`](https://reference.langchain.com/python/langgraph/types/) type for this purpose. When a node returns a value wrapped with `Overwrite`, the reducer is bypassed and the channel is set directly to that value.\n\nThis is useful when you want to reset or replace accumulated state rather than merge it with existing values.\n\n```python  theme={null}\nfrom langgraph.graph import StateGraph, START, END\nfrom langgraph.types import Overwrite\nfrom typing_extensions import Annotated, TypedDict\nimport operator\n\nclass State(TypedDict):\n    messages: Annotated[list, operator.add]\n\ndef add_message(state: State):\n    return {\"messages\": [\"first message\"]}\n\ndef replace_messages(state: State):\n    # Bypass the reducer and replace the entire messages list\n    return {\"messages\": Overwrite([\"replacement message\"])}\n\nbuilder = StateGraph(State)\nbuilder.add_node(\"add_message\", add_message)\nbuilder.add_node(\"replace_messages\", replace_messages)\nbuilder.add_edge(START, \"add_message\")\nbuilder.add_edge(\"add_message\", \"replace_messages\")\nbuilder.add_edge(\"replace_messages\", END)\n\ngraph = builder.compile()\n\nresult = graph.invoke({\"messages\": [\"initial\"]})\nprint(result[\"messages\"])\n```\n\n```\n['replacement message']\n```\n\nYou can also use JSON format with the special key `\"__overwrite__\"`:\n\n```python  theme={null}\ndef replace_messages(state: State):\n    return {\"messages\": {\"__overwrite__\": [\"replacement message\"]}}\n```\n\n<Warning>\n  When nodes execute in parallel, only one node can use `Overwrite` on the same state key in a given super-step. If multiple nodes attempt to overwrite the same key in the same super-step, an `InvalidUpdateError` will be raised.\n</Warning>", "summary": "Explains how to use the `Overwrite` type in LangGraph to bypass reducers and directly set state values, with code examples and a warning about parallel execution conflicts.", "keywords": ["Overwrite", "reducer", "StateGraph", "InvalidUpdateError", "state management", "bypass", "parallel execution", "super-step", "LangGraph", "TypedDict"]}