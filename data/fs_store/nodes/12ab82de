{"node_id": "12ab82de", "title": "From Functional to Graph API", "path": "choosing-apis > Choosing between Graph and Functional APIs > Migration between APIs > From Functional to Graph API", "content": "When your functional workflow grows complex, you can migrate to the Graph API:\n\n```python  theme={null}\n# Before: Functional API\n@entrypoint(checkpointer=checkpointer)\ndef complex_workflow(input_data: dict) -> dict:\n    step1 = process_step1(input_data).result()\n\n    if step1[\"needs_analysis\"]:\n        analysis = analyze_data(step1).result()\n        if analysis[\"confidence\"] > 0.8:\n            result = high_confidence_path(analysis).result()\n        else:\n            result = low_confidence_path(analysis).result()\n    else:\n        result = simple_path(step1).result()\n\n    return result\n\n# After: Graph API\nclass WorkflowState(TypedDict):\n    input_data: dict\n    step1_result: dict\n    analysis: dict\n    final_result: dict\n\ndef should_analyze(state):\n    return \"analyze\" if state[\"step1_result\"][\"needs_analysis\"] else \"simple_path\"\n\ndef confidence_check(state):\n    return \"high_confidence\" if state[\"analysis\"][\"confidence\"] > 0.8 else \"low_confidence\"\n\nworkflow = StateGraph(WorkflowState)\nworkflow.add_node(\"step1\", process_step1_node)\nworkflow.add_conditional_edges(\"step1\", should_analyze)\nworkflow.add_node(\"analyze\", analyze_data_node)\nworkflow.add_conditional_edges(\"analyze\", confidence_check)\n# ... add remaining nodes and edges\n```", "summary": "Demonstrates migrating a complex functional workflow to the Graph API using conditional logic and state management.", "keywords": ["Graph API", "Functional API", "StateGraph", "conditional_edges", "TypedDict", "workflow", "migration", "node", "entrypoint", "checkpointer"]}